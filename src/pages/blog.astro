---
import { getCollection } from "astro:content"
import FeaturedBlogPost from "../components/FeaturedBlogPost.astro"
import SectionHeader from "../components/SectionHeader"
import Separator from "../components/Separator.astro"
import Tag from "../components/Tag"
import HomeLayout from "../layouts/HomeLayout.astro"

const posts = await getCollection("post")

---

<HomeLayout title="Inicio | Blog">

	<main class="w-full h-full flex flex-col px-4" transition:animate="slide">
		<section>
			<SectionHeader hasAll title="Blog" transition:name="sec-header" link="/posts"/>
			<section class="py-3 flex flex-col gap-8">
				{posts.map((post) => (
					post.data.featured &&
					<a href={`/post/${post.slug}`}>
						<FeaturedBlogPost title={post.data.title} description={post.data.description} tags={post.data.tags} img={post.data.card_image} body={post.body} date={post.data.date}/>
					<Separator/>
					</a>
				))}
			</section>
		</section>
	</main>
</HomeLayout>
